{"remainingRequest":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/babel-loader/lib/index.js!/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/src/views/Login.vue","mtime":1573464868142},{"path":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/cache-loader/dist/cjs.js","mtime":1571792275068},{"path":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/babel-loader/lib/index.js","mtime":1569588482472},{"path":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/cache-loader/dist/cjs.js","mtime":1571792275068},{"path":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/vue-loader/lib/index.js","mtime":1572676609767}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3JhZ2RvbGwvRGVza3RvcC92aXBzaG9wLWRlbW8vdmlwc2hvcC1kZW1vLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTG9IZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9Mb2dpbi9Mb0hlYWRlciI7CmltcG9ydCBMb1RlbEZvcm0gZnJvbSAiLi4vY29tcG9uZW50cy9Mb2dpbi9Mb1RlbEZvcm0iOwppbXBvcnQgTG9UeXBlIGZyb20gIi4uL2NvbXBvbmVudHMvTG9naW4vTG9UeXBlIjsKaW1wb3J0IExvUHdkRm9ybSBmcm9tICIuLi9jb21wb25lbnRzL0xvZ2luL0xvUHdkRm9ybSI7CmltcG9ydCBsb2dpbkFwaSBmcm9tICIuLi9hcGlzL2xvZ2luQXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvZ01ldGhvZDogdHJ1ZSwKICAgICAgZm9ybUluZm86IHsKICAgICAgICB0b3BJbnB1dDogIumCrueusSIsCiAgICAgICAgdG9wSG9sZGVyOiAi6K+36L6T5YWl6YKu566xIiwKICAgICAgICBzdWJCdG46ICLpgq7nrrHpqozor4HnmbvlvZUiLAogICAgICAgIGNoZWNrQnRuOiAi5a+G56CB55m76ZmGIgogICAgICB9LAogICAgICBsb2dpbkRhdGE6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgdmVyaWZ5OiAiIgogICAgICB9LAogICAgICB2ZXJpZnk6IHsKICAgICAgICBmbGFnOiBmYWxzZSwKICAgICAgICB0aW1lOiAxODAKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZU1ldGhvZDogZnVuY3Rpb24gdXBkYXRlTWV0aG9kKCkgewogICAgICB0aGlzLmxvZ01ldGhvZCA9ICF0aGlzLmxvZ01ldGhvZDsKICAgIH0sCiAgICBjb3VudERvd246IGZ1bmN0aW9uIGNvdW50RG93bigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMudmVyaWZ5LnRpbWUgPiAwKSB7CiAgICAgICAgICBfdGhpcy52ZXJpZnkudGltZS0tOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy52ZXJpZnkudGltZSA9IDE4MDsKICAgICAgICAgIF90aGlzLnZlcmlmeS5mbGFnID0gdHJ1ZTsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgX2hhbmRsZVRvVmVyaWZ5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaGFuZGxlVG9WZXJpZnkyID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVnID0gL15bQS1aYS16MC05XHU0ZTAwLVx1OWZhNV0rQFthLXpBLVowLTlfLV0rKFwuW2EtekEtWjAtOV8tXSspKyQvOwoKICAgICAgICAgICAgICAgIGlmICghcmVnLnRlc3QodGhpcy5sb2dpbkRhdGEuZW1haWwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBsb2dpbkFwaS5oYW5kbGVUb1ZlcmlmeSh0aGlzLmxvZ2luRGF0YS5lbWFpbCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgdGhpcy52ZXJpZnkuZmxhZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMuY291bnREb3duKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgYWxlcnQoIumCrueuseagvOW8j+acieivryIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gX2hhbmRsZVRvVmVyaWZ5KCkgewogICAgICAgIHJldHVybiBfaGFuZGxlVG9WZXJpZnkyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBfaGFuZGxlVG9WZXJpZnk7CiAgICB9KCksCiAgICBfaGFuZGxlVG9Mb2dpbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2hhbmRsZVRvTG9naW4yID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luQXBpLmhhbmRsZVRvTG9naW4odGhpcy5sb2dpbkRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdlbWFpbCcsIHRoaXMubG9naW5EYXRhLmVtYWlsKTsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy91c2VyJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IC0xKSB7CiAgICAgICAgICAgICAgICAgIC8vIERpYWxvZyh7IG1lc3NhZ2U6IHJlc3VsdC5tc2cgfSk7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3VsdC5tc2cpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSAtMykgewogICAgICAgICAgICAgICAgICAvLyBEaWFsb2coeyBtZXNzYWdlOiByZXN1bHQubXNnIH0pOwogICAgICAgICAgICAgICAgICBhbGVydChyZXN1bHQubXNnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gX2hhbmRsZVRvTG9naW4oKSB7CiAgICAgICAgcmV0dXJuIF9oYW5kbGVUb0xvZ2luMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gX2hhbmRsZVRvTG9naW47CiAgICB9KCksCiAgICBsaXN0ZW46IGZ1bmN0aW9uIGxpc3Rlbih2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMuZm9ybUluZm8udG9wSW5wdXQgPSAi6YKu566xIjsKICAgICAgICB0aGlzLmZvcm1JbmZvLnRvcEhvbGRlciA9ICLor7fovpPlhaXpgq7nrrEiOwogICAgICAgIHRoaXMuZm9ybUluZm8uc3ViQnRuID0gIumCrueusemqjOivgeeZu+W9lSI7CiAgICAgICAgdGhpcy5mb3JtSW5mby5jaGVja0J0biA9ICLlr4bnoIHnmbvpmYYiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZm9ybUluZm8udG9wSW5wdXQgPSAi55m75b2V5ZCNIjsKICAgICAgICB0aGlzLmZvcm1JbmZvLnRvcEhvbGRlciA9ICLor7fovpPlhaXmiYvmnLrlj7fmiJbpgq7nrrEiOwogICAgICAgIHRoaXMuZm9ybUluZm8uc3ViQnRuID0gIueZu+W9lSI7CiAgICAgICAgdGhpcy5mb3JtSW5mby5jaGVja0J0biA9ICLmiYvmnLrlj7fms6jlhoznmbvlvZUiOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgbG9nTWV0aG9kOiAibGlzdGVuIgogIH0sCiAgY29tcG9uZW50czogewogICAgTG9IZWFkZXI6IExvSGVhZGVyLAogICAgTG9UZWxGb3JtOiBMb1RlbEZvcm0sCiAgICBMb1B3ZEZvcm06IExvUHdkRm9ybSwKICAgIExvVHlwZTogTG9UeXBlCiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;AAUA,OAAA,QAAA;AACA,OAAA,SAAA;AACA,OAAA,MAAA;AACA,OAAA,SAAA;AACA,OAAA,QAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,QAAA,EAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,SAAA,EAAA,OAFA;AAGA,QAAA,MAAA,EAAA,QAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OAFA;AAQA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA;AAFA,OARA;AAYA,MAAA,MAAA,EAAA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,IAAA,EAAA;AAFA;AAZA,KAAA;AAiBA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,SAAA,GAAA,CAAA,KAAA,SAAA;AACA,KAHA;AAIA,IAAA,SAJA,uBAIA;AAAA;;AACA,UAAA,KAAA,GAAA,WAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,IAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,IAAA,GAAA,GAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,IAAA,GAAA,IAAA;AACA,UAAA,aAAA,CAAA,KAAA,CAAA;AACA;AACA,OARA,EAQA,IARA,CAAA;AASA,KAdA;AAeA,IAAA,eAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,gBAAA,GAhBA,GAgBA,+DAhBA;;AAAA,qBAiBA,GAAA,CAAA,IAAA,CAAA,KAAA,SAAA,CAAA,KAAA,CAjBA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAkBA,QAAA,CAAA,cAAA,CAAA,KAAA,SAAA,CAAA,KAAA,CAlBA;;AAAA;AAkBA,gBAAA,MAlBA;;AAmBA,oBAAA,MAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,uBAAA,MAAA,CAAA,IAAA,GAAA,IAAA;AACA,uBAAA,SAAA;AACA;;AAtBA;AAAA;;AAAA;AAwBA,gBAAA,KAAA,CAAA,QAAA,CAAA;;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA2BA,IAAA,cA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBA4BA,QAAA,CAAA,aAAA,CAAA,KAAA,SAAA,CA5BA;;AAAA;AA4BA,gBAAA,MA5BA;AA6BA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA;;AACA,oBAAA,MAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,kBAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,KAAA,SAAA,CAAA,KAAA;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AAEA,iBAJA,MAIA,IAAA,MAAA,CAAA,MAAA,KAAA,CAAA,CAAA,EAAA;AACA;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA;AAEA,iBAJA,MAIA,IAAA,MAAA,CAAA,MAAA,KAAA,CAAA,CAAA,EAAA;AACA;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA;AACA;;AAzCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA2CA,IAAA,MA3CA,kBA2CA,GA3CA,EA2CA;AACA,UAAA,GAAA,EAAA;AACA,aAAA,QAAA,CAAA,QAAA,GAAA,IAAA;AACA,aAAA,QAAA,CAAA,SAAA,GAAA,OAAA;AACA,aAAA,QAAA,CAAA,MAAA,GAAA,QAAA;AACA,aAAA,QAAA,CAAA,QAAA,GAAA,MAAA;AACA,OALA,MAKA;AACA,aAAA,QAAA,CAAA,QAAA,GAAA,KAAA;AACA,aAAA,QAAA,CAAA,SAAA,GAAA,WAAA;AACA,aAAA,QAAA,CAAA,MAAA,GAAA,IAAA;AACA,aAAA,QAAA,CAAA,QAAA,GAAA,SAAA;AACA;AACA;AAvDA,GArBA;AA8EA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GA9EA;AAiFA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,SAAA,EAAA,SAFA;AAGA,IAAA,SAAA,EAAA,SAHA;AAIA,IAAA,MAAA,EAAA;AAJA;AAjFA,CAAA","sourcesContent":["<template>\n  <section>\n    <LoHeader />\n    <LoTelForm :verify=\"verify\" :_handleToVerify=\"_handleToVerify\" :_handleToLogin=\"_handleToLogin\" :loginData=\"loginData\" :data=\"formInfo\" v-if=\"logMethod\" />\n    <LoPwdForm :data=\"formInfo\" v-else />\n    <LoType :data=\"formInfo\" :method=\"updateMethod\" />\n  </section>\n</template>\n\n<script>\n  import LoHeader from \"../components/Login/LoHeader\";\n  import LoTelForm from \"../components/Login/LoTelForm\";\n  import LoType from \"../components/Login/LoType\";\n  import LoPwdForm from \"../components/Login/LoPwdForm\";\n  import loginApi from \"../apis/loginApi\";\n  export default {\n    name: \"Login\",\n    data() {\n      return {\n        logMethod: true,\n        formInfo: {\n          topInput: \"邮箱\",\n          topHolder: \"请输入邮箱\",\n          subBtn: \"邮箱验证登录\",\n          checkBtn: \"密码登陆\"\n        },\n        loginData: {\n          email: \"\",\n          verify: \"\"\n        },\n        verify: {\n          flag: false,\n          time: 180\n        }\n      }\n    },\n    methods: {\n      updateMethod() {\n        this.logMethod = !this.logMethod\n      },\n      countDown() {\n        let timer = setInterval(()=>{\n          if (this.verify.time > 0) {\n            this.verify.time--\n          }else {\n            this.verify.time = 180;\n            this.verify.flag = true;\n            clearInterval(timer)\n          }\n        },1000)\n      },\n      async _handleToVerify() {\n        let reg = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n        if (reg.test(this.loginData.email)) {\n          let result = await loginApi.handleToVerify(this.loginData.email);\n          if (result.status === 0) {\n            this.verify.flag = true;\n            this.countDown();\n          }\n        }else {\n          alert(\"邮箱格式有误\")\n        }\n      },\n      async _handleToLogin() {\n        let result = await loginApi.handleToLogin(this.loginData);\n        console.log(result)\n        if (result.status === 0) {\n          window.localStorage.setItem('email', this.loginData.email);\n          this.$router.push('/user')\n\n        } else if (result.status === -1) {\n          // Dialog({ message: result.msg });\n          alert(result.msg)\n\n        } else if (result.status === -3) {\n          // Dialog({ message: result.msg });\n          alert(result.msg)\n        }\n      },\n      listen(val) {\n        if (val) {\n          this.formInfo.topInput = \"邮箱\";\n          this.formInfo.topHolder = \"请输入邮箱\";\n          this.formInfo.subBtn = \"邮箱验证登录\";\n          this.formInfo.checkBtn = \"密码登陆\";\n        } else {\n          this.formInfo.topInput = \"登录名\"\n          this.formInfo.topHolder = \"请输入手机号或邮箱\";\n          this.formInfo.subBtn = \"登录\";\n          this.formInfo.checkBtn = \"手机号注册登录\";\n        }\n      }\n    },\n    watch: {\n      logMethod: \"listen\"\n    },\n    components: {\n      LoHeader,\n      LoTelForm,\n      LoPwdForm,\n      LoType\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/views"}]}