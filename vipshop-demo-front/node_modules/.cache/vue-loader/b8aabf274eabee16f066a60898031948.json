{"remainingRequest":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/src/views/Home.vue","mtime":1573472549935},{"path":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/cache-loader/dist/cjs.js","mtime":1571792275068},{"path":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/babel-loader/lib/index.js","mtime":1569588482472},{"path":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/cache-loader/dist/cjs.js","mtime":1571792275068},{"path":"/Users/ragdoll/Desktop/vipshop-demo/vipshop-demo-front/node_modules/vue-loader/lib/index.js","mtime":1572676609767}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgSGVhZGVyIGZyb20gIi4uL2NvbXBvbmVudHMvSG9tZS9IZWFkZXIvSGVhZGVyIjsKaW1wb3J0IE1pbkNhdGVnb3J5IGZyb20gIi4uL2NvbXBvbmVudHMvSG9tZS9NaW5DYXRlZ29yeSI7CmltcG9ydCBIb21lQm9keSBmcm9tICIuLi9jb21wb25lbnRzL0hvbWUvSG9tZUJvZHkiOwppbXBvcnQgTG9hZGluZyBmcm9tICIuLi9jb21wb25lbnRzL0NvbW1vbi9Mb2FkaW5nIjsKaW1wb3J0IGhvbWVBcGkgZnJvbSAiLi4vYXBpcy9ob21lQXBpIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2hvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlciwKICAgIExvYWRpbmcsCiAgICBNaW5DYXRlZ29yeSwKICAgIEhvbWVCb2R5CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGVtYWlsOiAnR0VUX0VNQUlMJwogICAgfSkKICB9LAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIGhvbWVJbmZvOiBudWxsLAogICAgICBjYXRlZ29yeUZsYWc6IGZhbHNlLAogICAgICBjYXRlZ29yeUluZm86IG51bGwsCiAgICAgIHNob3dCYWNrVG9wOiBmYWxzZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlQ2F0ZWdvcnlGbGFnKCkgewogICAgICB0aGlzLmNhdGVnb3J5RmxhZyA9ICF0aGlzLmNhdGVnb3J5RmxhZwogICAgfSwKICAgIGFzeW5jIF9pbml0SG9tZURhdGEoKSB7CiAgICAgIHRoaXMuaG9tZUluZm8gPSBhd2FpdCBob21lQXBpLmdldEhvbWVJbmZvKCkKICAgIH0sCiAgICBhc3luYyBfaW5pdE1pbkNhdGUoKSB7CiAgICAgIHRoaXMuY2F0ZWdvcnlJbmZvID0gYXdhaXQgaG9tZUFwaS5nZXRNaW5DYXRlSW5mbygpCiAgICB9LAogICAgYmFja1RvcCgpIHsKICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApIHsKICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMAogICAgICB9IGVsc2UgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCkgewogICAgICAgIHdpbmRvdy5wYWdlWU9mZnNldCA9IDAKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDAKICAgICAgfQogICAgICB0aGlzLnNob3dCYWNrVG9wID0gZmFsc2UKICAgIH0sCiAgICBoYW5kbGVTY3JvbGwoKSB7CiAgICAgIGxldCBzY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsKICAgICAgdGhpcy5zaG93QmFja1RvcCA9IHNjcm9sbFRvcCA+PSAxMTAwOwogICAgfQogIH0sCiAgYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLl9pbml0SG9tZURhdGEoKQogICAgdGhpcy5faW5pdE1pbkNhdGUoKQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLmhhbmRsZVNjcm9sbCkKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdJTklUX0VNQUlMJykKICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <section>\n    <Header :email=\"email\" :flag=\"changeCategoryFlag\" :data=\"homeInfo\" />\n    <MinCategory v-if=\"categoryFlag\" :data=\"categoryInfo\" :flag=\"changeCategoryFlag\" />\n    <HomeBody v-else-if=\"homeInfo\" :data=\"homeInfo.footerInfo\" :showBackTop=\"showBackTop\" :backTop=\"backTop\" />\n    <Loading v-else />\n  </section>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Header from \"../components/Home/Header/Header\";\nimport MinCategory from \"../components/Home/MinCategory\";\nimport HomeBody from \"../components/Home/HomeBody\";\nimport Loading from \"../components/Common/Loading\";\nimport homeApi from \"../apis/homeApi\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'home',\n  components: {\n    Header,\n    Loading,\n    MinCategory,\n    HomeBody\n  },\n  computed: {\n    ...mapGetters({\n      email: 'GET_EMAIL'\n    })\n  },\n  data(){\n    return {\n      homeInfo: null,\n      categoryFlag: false,\n      categoryInfo: null,\n      showBackTop: false\n    }\n  },\n  methods: {\n    changeCategoryFlag() {\n      this.categoryFlag = !this.categoryFlag\n    },\n    async _initHomeData() {\n      this.homeInfo = await homeApi.getHomeInfo()\n    },\n    async _initMinCate() {\n      this.categoryInfo = await homeApi.getMinCateInfo()\n    },\n    backTop() {\n      if (document.documentElement.scrollTop) {\n        document.documentElement.scrollTop = 0\n      } else if (window.pageYOffset) {\n        window.pageYOffset = 0\n      } else {\n        document.body.scrollTop = 0\n      }\n      this.showBackTop = false\n    },\n    handleScroll() {\n      let scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n      this.showBackTop = scrollTop >= 1100;\n    }\n  },\n  beforeMount() {\n    this._initHomeData()\n    this._initMinCate()\n  },\n  mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll)\n    this.$store.dispatch('INIT_EMAIL')\n  }\n}\n</script>\n"]}]}